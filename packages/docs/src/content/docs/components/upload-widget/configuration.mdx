---
title: Configuring CldUploadWidget
description: Options and configuration for CldUploadWidget in Svelte.
---

import { CldUploadWidget } from 'svelte-cloudinary';
import Table from '$lib/Table.astro';

## Basic Props

<Table
	columns={[
		{
			id: 'prop',
			title: 'Prop',
		},
		{
			id: 'type',
			title: 'Type',
		},
		{
			id: 'example',
			title: 'Example',
		},
		{
			id: 'more',
		},
	]}
	data={[
		{
			prop: 'signatureEndpoint',
			type: 'string',
			example: () => <code>{`/api/sign-cloudinary-params`}</code>,
			more: () => (
				<a
					className="whitespace-nowrap"
					href="/components/upload-widget#signed">
					More Info
				</a>
			),
		},
		{
			prop: 'uploadPreset',
			type: 'string',
			example: () => <code>{`my-upload-preset`}</code>,
			more: () => (
				<a
					className="whitespace-nowrap"
					href="https://cloudinary.com/documentation/upload_presets">
					More Info
				</a>
			),
		},
	]}
/>

### `signatureEndpoint`

An API endpoint used to sign the parameters generated during upload.

```jsx copy showLineNumbers
signatureEndpoint = '/api/sign-cloudinary-params';
```

Find an example of generating a signature on the [Signed Uploads page](/components/upload-widget#signed).

[Or learn more about generating signatures](https://cloudinary.com/documentation/upload_images#generating_authentication_signatures) on the Cloudinary docs.

### `uploadPreset`

```jsx copy showLineNumbers
uploadPreset = 'my-upload-preset';
```

[Learn more about upload presets](https://cloudinary.com/documentation/upload_presets) on the Cloudinary docs.

## Events

Upload Widget events allow you to tap into different points of the upload lifecycle including
when an upload has completed, but also when it starts the queue and more.

Events are passed in as props rather than using the `on:event` syntax:

| Event              | Type                         |                                                                                           |
| ------------------ | ---------------------------- | ----------------------------------------------------------------------------------------- |
| `onAbort`          | `(results, options) => void` | [More Info](https://cloudinary.com/documentation/upload_widget_reference#abort)           |
| `onBatchCancelled` | `(results, options) => void` | [More Info](https://cloudinary.com/documentation/upload_widget_reference#batch_cancelled) |
| `onClose`          | `(results, options) => void` | [More Info](https://cloudinary.com/documentation/upload_widget_reference#close_event)     |
| `onDisplayChanged` | `(results, options) => void` | [More Info](https://cloudinary.com/documentation/upload_widget_reference#display_changed) |
| `onError`          | `(error, options) => void`   |                                                                                           |
| `onOpen`           | `(widget) => void`           |                                                                                           |
| `onPublicId`       | `(results, options) => void` | [More Info](https://cloudinary.com/documentation/upload_widget_reference#publicid)        |
| `onQueuesEnd`      | `(results, options) => void` | [More Info](https://cloudinary.com/documentation/upload_widget_reference#queues_end)      |
| `onQueuesStart`    | `(results, options) => void` | [More Info](https://cloudinary.com/documentation/upload_widget_reference#queues_start)    |
| `onRetry`          | `(results, options) => void` | [More Info](https://cloudinary.com/documentation/upload_widget_reference#retry)           |
| `onShowCompleted`  | `(results, options) => void` | [More Info](https://cloudinary.com/documentation/upload_widget_reference#show_completed)  |
| `onSourceChanged`  | `(results, options) => void` | [More Info](https://cloudinary.com/documentation/upload_widget_reference#source_changed)  |
| `onSuccess`        | `(results, options) => void` | [More Info](https://cloudinary.com/documentation/upload_widget_reference#success)         |
| `onTags`           | `(results, options) => void` | [More Info](https://cloudinary.com/documentation/upload_widget_reference#tags)            |
| `onUploadAdded`    | `(results, options) => void` | [More Info](https://cloudinary.com/documentation/upload_widget_reference#upload_added)    |
| `onUpload`         | `(results, widget) => void`  | Deprecated, use `onSuccess`                                                               |

The `options` object contains the widget and all [instance methods](#instance-methods).

## Slot Props

| Prop                                  | Type         | Description                                                            |
| ------------------------------------- | ------------ | ---------------------------------------------------------------------- |
| `isLoading`                           | `boolean`    | Designates whether the upload widget is loading and initializing.      |
| `cloudinary`                          | `Cloudinary` | The Cloudinary instance which creates and manages the Widget instance. |
| `widget`                              | `Widget`     | The widget instance attached to the current component.                 |
| [Instance Methods](#instance-methods) | n/a          | See [Instance Methods](#instance-methods) below                        |

## Instance Methods

| Prop          | Type       | Description                                                                                                        |
| ------------- | ---------- | ------------------------------------------------------------------------------------------------------------------ |
| `close`       | `function` | Closes and resets the widget to its initial state without removing it from memory.                                 |
| `show`        | `function` | Renders a previously hidden widget.                                                                                |
| `open`        | `function` | Renders an existing widget currently in memory, but that is not currently displayed.                               |
| `destroy`     | `function` | Hides a previously rendered widget while retaining its current state in memory.                                    |
| `hide`        | `function` | Closes the widget and completely removes it from the DOM. Returns a promise that resolves upon cleanup completion. |
| `minimize`    | `function` | Minimizes the widget.                                                                                              |
| `update`      | `function` | Updates a widget currently in memory with new options.                                                             |
| `isDestroyed` | `function` | Returns whether the destroy method was called on this instance.                                                    |
| `isMinimized` | `function` | Returns whether the widget is currently minimized.                                                                 |
| `isShowing`   | `function` | Returns whether the widget is currently visible.                                                                   |

## Advanced Configuration

<Table
	columns={[
		{
			id: 'prop',
			title: 'Prop',
		},
		{
			id: 'type',
			title: 'Type',
		},
		{
			id: 'default',
			title: 'Default',
		},
		{
			id: 'example',
			title: 'Example',
		},
		{
			id: 'more',
		},
	]}
	data={[
		{
			prop: 'config',
			type: 'object',
			default: '-',
			example: () => (
				<code>{`{ url: { cloudName: 'spacejelly' } }`}</code>
			),
			more: () => (
				<a
					className="whitespace-nowrap"
					href="https://cloudinary.com/documentation/cloudinary_sdks#configuration_parameters">
					More Info
				</a>
			),
		},
		{
			prop: 'options',
			type: 'object',
			example: () => <code>{`{encryption: {...}}`}</code>,
			more: () => (
				<a
					className="whitespace-nowrap"
					href="https://cloudinary.com/documentation/upload_widget_reference#parameters">
					More Info
				</a>
			),
		},
	]}
/>

### `config`

Allows configuration for the Cloudinary environment.

**Examples**

```jsx copy
config={{
  cloud: {
    cloudName: '<Your Cloud Name>',
    apiKey: '<Your API Key>'
  }
}}
```

### `options`

Parameters used to customize and configure the Upload Widget instance. These options are passed in
directly to the Upload Widget, exposing all available parameters through the `options` object.

```jsx copy showLineNumbers
options={{
  sources: ['local', 'url', 'unsplash'],
  multiple: true,
  maxFiles: 5
}}
```

[Learn more about Upload Widget parameters](https://cloudinary.com/documentation/upload_widget_reference#parameters) on the Cloudinary docs.
